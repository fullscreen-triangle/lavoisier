{
  "step_metadata": {
    "step_number": 3,
    "step_name": "Database Search Validation",
    "start_time": "2025-10-13T08:11:04.496740",
    "objective": "Validate database search and annotation performance",
    "available_databases": [
      "LIPIDMAPS",
      "MSLIPIDS",
      "PUBCHEM",
      "METLIN",
      "MASSBANK",
      "MZCLOUD",
      "KEGG",
      "HUMANCYC"
    ]
  },
  "database_search_results": {
    "PL_Neg_Waters_qTOF.mzML": {
      "spectra_searched": 20,
      "annotated_spectra": 0,
      "annotation_rate": 0.0,
      "combined_search_time": 0.00327301025390625,
      "search_rate": 6110.582750582751,
      "database_performance": {
        "LIPIDMAPS": {
          "search_time": 0.003016948699951172,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 6629.21447763553
        },
        "MSLIPIDS": {
          "search_time": 0.0013523101806640625,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 14789.50634696756
        },
        "PUBCHEM": {
          "search_time": 0.0009675025939941406,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 20000.0
        },
        "METLIN": {
          "search_time": 0.0006642341613769531,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 20000.0
        },
        "MASSBANK": {
          "search_time": 0.0008711814880371094,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 20000.0
        },
        "MZCLOUD": {
          "search_time": 0.0006444454193115234,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 20000.0
        },
        "KEGG": {
          "search_time": 0.0008678436279296875,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 20000.0
        },
        "HUMANCYC": {
          "search_time": 0.001064300537109375,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 18791.68458781362
        }
      },
      "coverage_metrics": {
        "avg_databases_per_hit": 0,
        "avg_annotations_per_spectrum": 0,
        "multi_db_rate": 0.0,
        "database_contributions": {
          "LIPIDMAPS": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          },
          "MSLIPIDS": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          },
          "PUBCHEM": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          },
          "METLIN": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          },
          "MASSBANK": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          },
          "MZCLOUD": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          },
          "KEGG": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          },
          "HUMANCYC": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          }
        }
      },
      "efficiency_metrics": {
        "search_efficiency": 0.3463954984734173,
        "coverage_improvement": 0.0,
        "total_individual_search_time": 0.009448766708374023
      },
      "performance_grade": "\ud83d\udd34 NEEDS IMPROVEMENT",
      "sample_annotations": {}
    },
    "TG_Pos_Thermo_Orbi.mzML": {
      "spectra_searched": 20,
      "annotated_spectra": 0,
      "annotation_rate": 0.0,
      "combined_search_time": 0.003348827362060547,
      "search_rate": 5972.239783568276,
      "database_performance": {
        "LIPIDMAPS": {
          "search_time": 0.0012867450714111328,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 15543.094311654622
        },
        "MSLIPIDS": {
          "search_time": 0.0012364387512207031,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 16175.487851908985
        },
        "PUBCHEM": {
          "search_time": 0.0005621910095214844,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 20000.0
        },
        "METLIN": {
          "search_time": 0.0005984306335449219,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 20000.0
        },
        "MASSBANK": {
          "search_time": 0.0006487369537353516,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 20000.0
        },
        "MZCLOUD": {
          "search_time": 0.0006365776062011719,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 20000.0
        },
        "KEGG": {
          "search_time": 0.0011610984802246094,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 17225.067761806982
        },
        "HUMANCYC": {
          "search_time": 0.0005803108215332031,
          "hit_count": 0,
          "hit_rate": 0.0,
          "total_annotations": 0,
          "avg_annotations_per_hit": 0.0,
          "search_rate": 20000.0
        }
      },
      "coverage_metrics": {
        "avg_databases_per_hit": 0,
        "avg_annotations_per_spectrum": 0,
        "multi_db_rate": 0.0,
        "database_contributions": {
          "LIPIDMAPS": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          },
          "MSLIPIDS": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          },
          "PUBCHEM": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          },
          "METLIN": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          },
          "MASSBANK": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          },
          "MZCLOUD": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          },
          "KEGG": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          },
          "HUMANCYC": {
            "contribution_count": 0,
            "contribution_rate": 0.0
          }
        }
      },
      "efficiency_metrics": {
        "search_efficiency": 0.49904071626518864,
        "coverage_improvement": 0.0,
        "total_individual_search_time": 0.006710529327392578
      },
      "performance_grade": "\ud83d\udd34 NEEDS IMPROVEMENT",
      "sample_annotations": {}
    }
  },
  "annotation_coverage_analysis": {
    "total_queries": 40,
    "avg_annotation_rate": 0.0,
    "database_effectiveness": {
      "LIPIDMAPS": {
        "total_hits": 0,
        "effectiveness": 0.0,
        "hit_percentage": 0.0
      },
      "MSLIPIDS": {
        "total_hits": 0,
        "effectiveness": 0.0,
        "hit_percentage": 0.0
      },
      "PUBCHEM": {
        "total_hits": 0,
        "effectiveness": 0.0,
        "hit_percentage": 0.0
      },
      "METLIN": {
        "total_hits": 0,
        "effectiveness": 0.0,
        "hit_percentage": 0.0
      },
      "MASSBANK": {
        "total_hits": 0,
        "effectiveness": 0.0,
        "hit_percentage": 0.0
      },
      "MZCLOUD": {
        "total_hits": 0,
        "effectiveness": 0.0,
        "hit_percentage": 0.0
      },
      "KEGG": {
        "total_hits": 0,
        "effectiveness": 0.0,
        "hit_percentage": 0.0
      },
      "HUMANCYC": {
        "total_hits": 0,
        "effectiveness": 0.0,
        "hit_percentage": 0.0
      }
    },
    "most_effective_database": "LIPIDMAPS",
    "least_effective_database": "LIPIDMAPS"
  },
  "database_performance_metrics": {
    "successful_searches": 2,
    "total_datasets": 2,
    "success_rate": 1.0,
    "avg_search_time": 0.0033109188079833984,
    "avg_annotation_rate": 0.0,
    "overall_search_rate": 6040.619284222655,
    "total_queries_processed": 40
  },
  "step_conclusion": {
    "overall_assessment": "\ud83d\udd34 DATABASE SEARCH VALIDATION FAILED - Poor annotation coverage or performance",
    "step_status": "problematic",
    "success_rate": 1.0,
    "avg_annotation_rate": 0.0,
    "best_performing_database": "LIPIDMAPS",
    "worst_performing_database": "LIPIDMAPS",
    "key_findings": [
      "Database search success rate: 100.0%",
      "Average annotation rate: 0.0%",
      "Search performance: 6040.6 spectra/s",
      "Most effective database: LIPIDMAPS (0.0%)"
    ],
    "recommendations": [
      "Expand database coverage or improve search algorithms",
      "All databases have low hit rates - review data quality",
      "Search speed is acceptable",
      "Consider removing LIPIDMAPS"
    ]
  }
}