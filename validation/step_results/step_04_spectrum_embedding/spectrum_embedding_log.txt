2025-10-13T22:09:38.274299: ğŸ”¬ STEP 4 EXPERIMENTAL SETUP
2025-10-13T22:09:38.275087: ------------------------------
2025-10-13T22:09:38.275636: ğŸ“¦ Loading spectrum embedding components...
2025-10-13T22:09:45.627262: âœ… Spectrum embedding components loaded successfully
2025-10-13T22:09:45.627938: ğŸ§  Available embedding methods: ['spec2vec', 'stellas', 'fingerprint']
2025-10-13T22:09:45.628486: ğŸ“Š Testing embeddings on 2 datasets:
2025-10-13T22:09:45.628986:   1. PL_Neg_Waters_qTOF.mzML
2025-10-13T22:09:45.629407:   2. TG_Pos_Thermo_Orbi.mzML
2025-10-13T22:09:45.629814: 
ğŸš€ STARTING SPECTRUM EMBEDDING VALIDATION
2025-10-13T22:09:45.630430: ------------------------------------------------
2025-10-13T22:09:45.630917: 
ğŸ§  DATASET 1: PL_Neg_Waters_qTOF.mzML
2025-10-13T22:09:45.631384: ----------------------------------------
2025-10-13T22:09:45.631884: STEP 4.1: Loading data for embedding analysis...
2025-10-13T22:09:45.665427:   ğŸ“‚ Loaded 116 total spectra
2025-10-13T22:09:45.665947:   ğŸ¯ Selected 30 high-quality spectra for embedding
2025-10-13T22:09:45.666355: STEP 4.2: Testing individual embedding methods...
2025-10-13T22:09:45.666754:     ğŸ”„ Testing spec2vec embedding method...
2025-10-13T22:09:45.684961:       ğŸ“Š spec2vec: 30/30 embeddings
2025-10-13T22:09:45.685535:       ğŸ“ Dimension: 100, Diversity: 1.000
2025-10-13T22:09:45.685957:       â±ï¸  Time: 0.02s (1832.9 embeddings/s)
2025-10-13T22:09:45.686354:     ğŸ”„ Testing stellas embedding method...
2025-10-13T22:09:45.774271:       ğŸ“Š stellas: 30/30 embeddings
2025-10-13T22:09:45.774796:       ğŸ“ Dimension: 128, Diversity: 1.000
2025-10-13T22:09:45.775200:       â±ï¸  Time: 0.09s (344.2 embeddings/s)
2025-10-13T22:09:45.775611:     ğŸ”„ Testing fingerprint embedding method...
2025-10-13T22:09:45.781505:       ğŸ“Š fingerprint: 30/30 embeddings
2025-10-13T22:09:45.781963:       ğŸ“ Dimension: 256, Diversity: 1.000
2025-10-13T22:09:45.782387:       â±ï¸  Time: 0.00s (6171.4 embeddings/s)
2025-10-13T22:09:45.782786: STEP 4.3: Testing embedding similarity search...
2025-10-13T22:09:45.783602:       ğŸ” spec2vec similarity: 5 results
2025-10-13T22:09:45.784082:       ğŸ“Š Avg similarity: 0.781, Range: 0.774-0.795
2025-10-13T22:09:45.784835:       ğŸ” stellas similarity: 5 results
2025-10-13T22:09:45.785246:       ğŸ“Š Avg similarity: 0.615, Range: 0.577-0.660
2025-10-13T22:09:45.785974:       ğŸ” fingerprint similarity: 5 results
2025-10-13T22:09:45.786377:       ğŸ“Š Avg similarity: 0.131, Range: 0.114-0.159
2025-10-13T22:09:45.786764: STEP 4.4: Cross-method embedding comparison...
2025-10-13T22:09:45.787200: STEP 4.5: Overall embedding quality assessment...
2025-10-13T22:09:45.787668:   ğŸ¯ EMBEDDING QUALITY ASSESSMENT:
2025-10-13T22:09:45.788106:      Total embeddings created: 90
2025-10-13T22:09:45.788503:      Average success rate: 100.0%
2025-10-13T22:09:45.788926:      Effective methods: 3/3
2025-10-13T22:09:45.789305:      Quality score: 1.00/1.00
2025-10-13T22:09:45.789682: STEP 4.6: Embedding performance classification...
2025-10-13T22:09:45.790062:   ğŸ† Embedding Performance: ğŸŸ¢ EXCELLENT
2025-10-13T22:09:45.790460: âœ… Dataset 1 embedding validation completed
2025-10-13T22:09:45.790852: 
ğŸ§  DATASET 2: TG_Pos_Thermo_Orbi.mzML
2025-10-13T22:09:45.791232: ----------------------------------------
2025-10-13T22:09:45.791629: STEP 4.1: Loading data for embedding analysis...
2025-10-13T22:09:45.808407:   ğŸ“‚ Loaded 94 total spectra
2025-10-13T22:09:45.808957:   ğŸ¯ Selected 30 high-quality spectra for embedding
2025-10-13T22:09:45.809356: STEP 4.2: Testing individual embedding methods...
2025-10-13T22:09:45.810331:     ğŸ”„ Testing spec2vec embedding method...
2025-10-13T22:09:45.823627:       ğŸ“Š spec2vec: 30/30 embeddings
2025-10-13T22:09:45.824307:       ğŸ“ Dimension: 100, Diversity: 1.000
2025-10-13T22:09:45.824828:       â±ï¸  Time: 0.01s (2336.1 embeddings/s)
2025-10-13T22:09:45.825321:     ğŸ”„ Testing stellas embedding method...
2025-10-13T22:09:45.912919:       ğŸ“Š stellas: 30/30 embeddings
2025-10-13T22:09:45.913437:       ğŸ“ Dimension: 128, Diversity: 1.000
2025-10-13T22:09:45.913906:       â±ï¸  Time: 0.09s (346.0 embeddings/s)
2025-10-13T22:09:45.914321:     ğŸ”„ Testing fingerprint embedding method...
2025-10-13T22:09:45.919562:       ğŸ“Š fingerprint: 30/30 embeddings
2025-10-13T22:09:45.920012:       ğŸ“ Dimension: 256, Diversity: 1.000
2025-10-13T22:09:45.920409:       â±ï¸  Time: 0.00s (6976.6 embeddings/s)
2025-10-13T22:09:45.920801: STEP 4.3: Testing embedding similarity search...
2025-10-13T22:09:45.921623:       ğŸ” spec2vec similarity: 5 results
2025-10-13T22:09:45.922030:       ğŸ“Š Avg similarity: 0.802, Range: 0.787-0.817
2025-10-13T22:09:45.923444:       ğŸ” stellas similarity: 5 results
2025-10-13T22:09:45.924060:       ğŸ“Š Avg similarity: 0.417, Range: 0.357-0.524
2025-10-13T22:09:45.925372:       ğŸ” fingerprint similarity: 5 results
2025-10-13T22:09:45.925948:       ğŸ“Š Avg similarity: 0.281, Range: 0.264-0.317
2025-10-13T22:09:45.926672: STEP 4.4: Cross-method embedding comparison...
2025-10-13T22:09:45.927562: STEP 4.5: Overall embedding quality assessment...
2025-10-13T22:09:45.928293:   ğŸ¯ EMBEDDING QUALITY ASSESSMENT:
2025-10-13T22:09:45.928778:      Total embeddings created: 90
2025-10-13T22:09:45.929380:      Average success rate: 100.0%
2025-10-13T22:09:45.929796:      Effective methods: 3/3
2025-10-13T22:09:45.930229:      Quality score: 1.00/1.00
2025-10-13T22:09:45.930614: STEP 4.6: Embedding performance classification...
2025-10-13T22:09:45.931020:   ğŸ† Embedding Performance: ğŸŸ¢ EXCELLENT
2025-10-13T22:09:45.931426: âœ… Dataset 2 embedding validation completed
2025-10-13T22:09:45.931837: 
============================================================
2025-10-13T22:09:45.932222: ğŸ“Š STEP 4 OVERALL EMBEDDING ANALYSIS
2025-10-13T22:09:45.932605: ============================================================
2025-10-13T22:09:45.933109: ğŸ”¢ STEP 4 PERFORMANCE METRICS:
2025-10-13T22:09:45.933494:    Successful embedding runs: 2/2
2025-10-13T22:09:45.933876:    Success rate: 100.0%
2025-10-13T22:09:45.934255:    Total embeddings created: 180
2025-10-13T22:09:45.934636:    Average embedding time: 0.11s per dataset
2025-10-13T22:09:45.935030:    Average similarity score: 0.505
2025-10-13T22:09:45.935411:    Methods tested: 3
2025-10-13T22:09:45.935790: 
ğŸ† EMBEDDING METHOD EFFECTIVENESS:
2025-10-13T22:09:45.936200:    1. spec2vec: 60 embeddings, dim=100, 60.0 emb/s
2025-10-13T22:09:45.936583:    2. stellas: 60 embeddings, dim=128, 60.0 emb/s
2025-10-13T22:09:45.936980:    3. fingerprint: 60 embeddings, dim=256, 60.0 emb/s
2025-10-13T22:09:45.937397: 
ğŸ¯ STEP 4 CONCLUSION:
2025-10-13T22:09:45.937777:    ğŸŸ¢ EMBEDDING VALIDATION PASSED - Effective spectrum embedding capabilities
2025-10-13T22:09:45.938293: 
ğŸ’¾ SAVING STEP 4 RESULTS
2025-10-13T22:09:45.938894: ------------------------------
2025-10-13T22:09:45.942661: ğŸ“„ Saved JSON results: step_results\step_04_spectrum_embedding\step_04_spectrum_embedding_results.json
2025-10-13T22:09:45.958624: ğŸ“Š Saved CSV summary: step_results\step_04_spectrum_embedding\step_04_spectrum_embedding_summary.csv
2025-10-13T22:09:46.812541: âš ï¸  Visualization generation failed: cannot import name 'create_embedding_performance_panel' from 'visualization.panel' (C:\Users\kundai\Documents\bioinformatics\lavoisier\validation\visualization\panel.py)
2025-10-13T22:09:46.813138: 
ğŸ§ª STEP 4: SPECTRUM EMBEDDING VALIDATION COMPLETE ğŸ§ª
2025-10-13T22:09:46.813598: ğŸ“ Results saved to: step_results\step_04_spectrum_embedding
2025-10-13T22:09:46.814047: ğŸ“‹ Step log: step_results\step_04_spectrum_embedding\spectrum_embedding_log.txt
