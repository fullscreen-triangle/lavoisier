2025-10-14T01:25:44.169618: üî¨ EXPERIMENTAL SETUP
2025-10-14T01:25:44.170716: ------------------------------
2025-10-14T01:25:44.171629: üì¶ Loading numerical validation pipeline...
2025-10-14T01:25:51.151539: ‚úÖ Numerical pipeline loaded successfully
2025-10-14T01:25:51.161608: üìä Experimental datasets: 2
2025-10-14T01:25:51.162882:   1. PL_Neg_Waters_qTOF.mzML
2025-10-14T01:25:51.163860:   2. TG_Pos_Thermo_Orbi.mzML
2025-10-14T01:25:51.164878: 
üöÄ STARTING EXPERIMENTAL VALIDATION
2025-10-14T01:25:51.167411: ==================================================
2025-10-14T01:25:51.169286: 
üìä EXPERIMENT 1/2: PL_Neg_Waters_qTOF.mzML
2025-10-14T01:25:51.171665: --------------------------------------------------
2025-10-14T01:25:51.172893: STEP 1: Loading and initial assessment
2025-10-14T01:25:51.174839:   üîÑ Processing dataset: PL_Neg_Waters_qTOF.mzML
2025-10-14T01:25:52.435629: STEP 2: Extracting validation metrics
2025-10-14T01:25:52.436958:   üìà EXPERIMENTAL RESULTS:
2025-10-14T01:25:52.438245:      Total spectra processed: 117
2025-10-14T01:25:52.439425:      High-quality spectra: 117 (100.0%)
2025-10-14T01:25:52.440333:      MS1 spectra annotated: 1 (1.0%)
2025-10-14T01:25:52.440993:      Processing time: 1.26s
2025-10-14T01:25:52.441663:      Mean quality score: 0.657
2025-10-14T01:25:52.442189: STEP 3: Database annotation performance
2025-10-14T01:25:52.443463:   üóÉÔ∏è  Active databases: 1/8
2025-10-14T01:25:52.444167:      MSLIPIDS: 1 annotations (100.0%)
2025-10-14T01:25:52.444870: STEP 4: Spectrum embedding analysis
2025-10-14T01:25:52.445383:   üß† Embedding methods: stellas, spec2vec
2025-10-14T01:25:52.445901:      stellas: 50 embeddings (dim=128)
2025-10-14T01:25:52.446400:      spec2vec: 50 embeddings (dim=100)
2025-10-14T01:25:52.446942: STEP 5: Feature clustering validation
2025-10-14T01:25:52.447428:   üî¨ Clustering: 5 clusters for 100 spectra
2025-10-14T01:25:52.448794: STEP 6: Performance assessment
2025-10-14T01:25:52.449922:   üéØ Performance Grade: üî¥ NEEDS IMPROVEMENT
2025-10-14T01:25:52.450993: ‚úÖ Experiment 1 completed successfully
2025-10-14T01:25:52.451846: 
üìä EXPERIMENT 2/2: TG_Pos_Thermo_Orbi.mzML
2025-10-14T01:25:52.452846: --------------------------------------------------
2025-10-14T01:25:52.454308: STEP 1: Loading and initial assessment
2025-10-14T01:25:52.456079:   üîÑ Processing dataset: TG_Pos_Thermo_Orbi.mzML
2025-10-14T01:25:53.239440: STEP 2: Extracting validation metrics
2025-10-14T01:25:53.241088:   üìà EXPERIMENTAL RESULTS:
2025-10-14T01:25:53.242274:      Total spectra processed: 143
2025-10-14T01:25:53.243272:      High-quality spectra: 140 (97.9%)
2025-10-14T01:25:53.244111:      MS1 spectra annotated: 2 (1.9%)
2025-10-14T01:25:53.244940:      Processing time: 0.78s
2025-10-14T01:25:53.245719:      Mean quality score: 0.648
2025-10-14T01:25:53.246459: STEP 3: Database annotation performance
2025-10-14T01:25:53.247199:   üóÉÔ∏è  Active databases: 2/8
2025-10-14T01:25:53.248056:      LIPIDMAPS: 1 annotations (50.0%)
2025-10-14T01:25:53.250424:      MASSBANK: 1 annotations (50.0%)
2025-10-14T01:25:53.251477: STEP 4: Spectrum embedding analysis
2025-10-14T01:25:53.252785:   üß† Embedding methods: stellas, spec2vec
2025-10-14T01:25:53.254646:      stellas: 50 embeddings (dim=128)
2025-10-14T01:25:53.256719:      spec2vec: 50 embeddings (dim=100)
2025-10-14T01:25:53.257951: STEP 5: Feature clustering validation
2025-10-14T01:25:53.258950:   üî¨ Clustering: 5 clusters for 100 spectra
2025-10-14T01:25:53.259711: STEP 6: Performance assessment
2025-10-14T01:25:53.260439:   üéØ Performance Grade: üî¥ NEEDS IMPROVEMENT
2025-10-14T01:25:53.261373: ‚úÖ Experiment 2 completed successfully
2025-10-14T01:25:53.262035: 
============================================================
2025-10-14T01:25:53.262681: üìä EXPERIMENTAL CONCLUSIONS
2025-10-14T01:25:53.263314: ============================================================
2025-10-14T01:25:53.265541: üî¢ OVERALL EXPERIMENTAL STATISTICS:
2025-10-14T01:25:53.266874:    Successful experiments: 2/2
2025-10-14T01:25:53.267765:    Success rate: 100.0%
2025-10-14T01:25:53.268942:    Average processing time: 1.02s per dataset
2025-10-14T01:25:53.270060:    Average annotation rate: 1.5%
2025-10-14T01:25:53.271779:    Average quality score: 0.652
2025-10-14T01:25:53.273537:    Total experiment duration: 2.09s
2025-10-14T01:25:53.274591: 
üéØ SCIENTIFIC CONCLUSION:
2025-10-14T01:25:53.275435:    üî¥ NUMERICAL PIPELINE REQUIRES IMPROVEMENT - Significant issues detected
2025-10-14T01:25:53.276785: 
üíæ SAVING EXPERIMENTAL RESULTS
2025-10-14T01:25:53.277689: ----------------------------------------
2025-10-14T01:25:53.282594: üí• CRITICAL EXPERIMENTAL FAILURE: Object of type AnnotationResult is not JSON serializable
2025-10-14T01:25:53.428128: Error details: Traceback (most recent call last):
  File "C:\Users\kundai\Documents\bioinformatics\lavoisier\validation\experiment_numerical_validation.py", line 330, in main
    json.dump(experiment_results, f, indent=2)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kundai\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 179, in dump
    for chunk in iterable:
                 ^^^^^^^^
  File "C:\Users\kundai\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 433, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "C:\Users\kundai\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 407, in _iterencode_dict
    yield from chunks
  File "C:\Users\kundai\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 407, in _iterencode_dict
    yield from chunks
  File "C:\Users\kundai\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 407, in _iterencode_dict
    yield from chunks
  [Previous line repeated 4 more times]
  File "C:\Users\kundai\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 326, in _iterencode_list
    yield from chunks
  File "C:\Users\kundai\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 440, in _iterencode
    o = _default(o)
  File "C:\Users\kundai\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type AnnotationResult is not JSON serializable

