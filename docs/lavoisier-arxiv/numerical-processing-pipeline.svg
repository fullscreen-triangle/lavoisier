<svg xmlns="http://www.w3.org/2000/svg" width="1080" height="240" viewBox="0 0 1080 240">
  <title>Numerical Mass Spectrometry Processing Pipeline</title>
  <style>text{font-size:11px;font-family:Arial,sans-serif}</style>
  <defs><marker id="ar" markerWidth="8" markerHeight="8" refX="6" refY="4" orient="auto">
    <path d="M0,0 L8,4 L0,8Z" fill="black"/></marker></defs>

  <rect x="20" y="60" width="130" height="70" stroke="black" fill="white"/>
  <text x="85" y="92" text-anchor="middle">mzML Input</text>

  <rect x="170" y="40" width="150" height="110" stroke="black" fill="white"/>
  <text x="245" y="72" text-anchor="middle">Raw Extraction</text>
  <text x="245" y="88" text-anchor="middle">MS1/MS2 Threshold</text>
  <text x="245" y="104" text-anchor="middle">m/z Filtering</text>

  <rect x="340" y="60" width="140" height="70" stroke="black" fill="white"/>
  <text x="410" y="92" text-anchor="middle">RT Alignment</text>

  <rect x="500" y="40" width="150" height="110" stroke="black" fill="white"/>
  <text x="575" y="72" text-anchor="middle">MS2 Annotation</text>
  <text x="575" y="88" text-anchor="middle">Multi-DB Search</text>
  <text x="575" y="104" text-anchor="middle">Fragments</text>

  <rect x="670" y="60" width="140" height="70" stroke="black" fill="white"/>
  <text x="740" y="92" text-anchor="middle">Frag Trees</text>

  <rect x="830" y="60" width="140" height="70" stroke="black" fill="white"/>
  <text x="900" y="84" text-anchor="middle">Pathway Integration</text>
  <text x="900" y="100" text-anchor="middle">Confidence Score</text>

  <rect x="990" y="60" width="70" height="70" stroke="black" fill="white"/>
  <text x="1025" y="92" text-anchor="middle">Zarr</text>

  <!-- Distributed Side Panel -->
  <rect x="500" y="170" width="310" height="50" stroke="black" fill="none"/>
  <text x="655" y="188" text-anchor="middle">Distributed Execution: Ray + Dask</text>
  <text x="655" y="204" text-anchor="middle">Adaptive Resource Allocation</text>

  <!-- Arrows -->
  <g stroke="black" marker-end="url(#ar)">
    <line x1="150" y1="95" x2="170" y2="95"/>
    <line x1="320" y1="95" x2="340" y2="95"/>
    <line x1="480" y1="95" x2="500" y2="95"/>
    <line x1="650" y1="95" x2="670" y2="95"/>
    <line x1="810" y1="95" x2="830" y2="95"/>
    <line x1="970" y1="95" x2="990" y2="95"/>
  </g>

  <!-- Legend -->
  <rect x="20" y="150" width="450" height="70" stroke="black" fill="none"/>
  <text x="245" y="170" text-anchor="middle">Thresholds: MS1 ≥1000, MS2 ≥100, m/z tol ±0.01 Da, RT tol ±0.5 min</text>
  <text x="245" y="186" text-anchor="middle">Outputs serialized w/ LZ4 compression</text>
  <text x="245" y="202" text-anchor="middle">Confidence integrates DB match + fragments + pathway</text>
</svg>
