<svg xmlns="http://www.w3.org/2000/svg" width="960" height="260" viewBox="0 0 960 260">
  <title>Visual Spectral Analysis Pipeline</title>
  <style>text{font-size:11px;font-family:Arial,sans-serif}</style>
  <defs><marker id="ar" markerWidth="8" markerHeight="8" refX="6" refY="4" orient="auto">
    <path d="M0,0 L8,4 L0,8Z" fill="black"/></marker></defs>

  <rect x="20" y="50" width="140" height="70" stroke="black" fill="white"/>
  <text x="90" y="82" text-anchor="middle">mzML Input</text>

  <rect x="180" y="30" width="150" height="110" stroke="black" fill="white"/>
  <text x="255" y="62" text-anchor="middle">Spectral Transform</text>
  <text x="255" y="78" text-anchor="middle">→ 1024×1024 Image</text>
  <text x="255" y="94" text-anchor="middle">Feature Map 128D</text>

  <rect x="350" y="50" width="140" height="70" stroke="black" fill="white"/>
  <text x="420" y="82" text-anchor="middle">Feature Extraction</text>

  <rect x="510" y="30" width="150" height="110" stroke="black" fill="white"/>
  <text x="585" y="62" text-anchor="middle">Temporal Encoding</text>
  <text x="585" y="78" text-anchor="middle">Video/Time Series</text>
  <text x="585" y="94" text-anchor="middle">Dynamics Metrics</text>

  <rect x="680" y="50" width="140" height="70" stroke="black" fill="white"/>
  <text x="750" y="82" text-anchor="middle">Visual Evidence</text>

  <rect x="840" y="50" width="100" height="70" stroke="black" fill="white"/>
  <text x="890" y="82" text-anchor="middle">Export</text>

  <g stroke="black" marker-end="url(#ar)">
    <line x1="160" y1="85" x2="180" y2="85"/>
    <line x1="330" y1="85" x2="350" y2="85"/>
    <line x1="490" y1="85" x2="510" y2="85"/>
    <line x1="660" y1="85" x2="680" y2="85"/>
    <line x1="820" y1="85" x2="840" y2="85"/>
  </g>

  <!-- Transformation Formula Panel -->
  <rect x="20" y="150" width="380" height="90" stroke="black" fill="none"/>
  <text x="210" y="166" text-anchor="middle">Pixel Mapping</text>
  <text x="210" y="182" text-anchor="middle">P(x,y)=G(σ) * Σ δ(x-φ(m/z))·ψ(I)</text>
  <text x="210" y="198" text-anchor="middle">φ: m/z→coord, ψ: intensity scaling</text>

  <!-- Temporal Panel -->
  <rect x="420" y="150" width="240" height="90" stroke="black" fill="none"/>
  <text x="540" y="166" text-anchor="middle">Temporal Visualization</text>
  <text x="540" y="182" text-anchor="middle">Retention Time Frames → Video</text>
  <text x="540" y="198" text-anchor="middle">Motion-Based Anomaly Markers</text>

  <!-- Export Panel -->
  <rect x="680" y="150" width="260" height="90" stroke="black" fill="none"/>
  <text x="810" y="166" text-anchor="middle">Outputs: PNG/JPEG, MP4, Interactive</text>
  <text x="810" y="182" text-anchor="middle">Used in Fusion with Numerical</text>
  <text x="810" y="198" text-anchor="middle">Provides Visual Confidence</text>
</svg>
