<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 1100" role="img"
    aria-label="Hardware BMD grounding with input/output filters and stream divergence over processing stages.">

<style> :root{ --text:#0f172a; --muted:#475569; --panel:#ffffff; --stroke:#e2e8f0; --ok:#16a34a;
    --warn:#f59e0b; --bad:#ef4444; --cyan:#0ea5e9; } .label{fill:var(--text); font:28px/1.2
    system-ui, -apple-system, Segoe UI, Roboto, Arial;} .small{font-size:22px; fill:var(--muted);} </style>
<text x="80" y="80" class="label">Hardware-Constrained BMD Grounding</text>

<!-- Left: Dual filters schematic -->
<g transform="translate(80,140)">
<rect x="0" y="0" width="880" height="820" rx="14" fill="#ffffff" stroke="#e2e8f0" />
<text x="24" y="46" class="small">Dual filtering (input/output) and HW-BMD stream</text>
<!-- HW-BMD sources -->
<g transform="translate(40,100)" class="small">
  <text x="0" y="0">HW-BMD sources</text>
  <g transform="translate(0,20)">
    <circle cx="16" cy="16" r="8" fill="#0ea5e9"/><text x="40" y="24">Display 60–240 Hz</text>
    <circle cx="16" cy="56" r="8" fill="#7c5cff"/><text x="40" y="64">EM emissions GHz</text>
    <circle cx="16" cy="96" r="8" fill="#22c55e"/><text x="40" y="104">Network timing</text>
    <circle cx="16" cy="136" r="8" fill="#f59e0b"/><text x="40" y="144">Acoustic/thermal</text>
    <circle cx="16" cy="176" r="8" fill="#64748b"/><text x="40" y="184">Sensors (IMU)</text>
  </g>
</g>

<!-- Input filter -->
<g transform="translate(40,380)">
  <rect x="0" y="0" width="360" height="200" rx="12" fill="#f8fafc" stroke="#e2e8f0"/>
  <text x="20" y="40" class="small">Input filter (phase-lock)</text>
  <!-- incoming features -->
  <g>
    <circle cx="-40" cy="60" r="6" fill="#94a3b8"/>
    <circle cx="-40" cy="100" r="6" fill="#94a3b8"/>
    <circle cx="-40" cy="140" r="6" fill="#94a3b8"/>
    <path d="M-40,60 C-10,60 0,60 0,60" stroke="#cbd5e1" stroke-width="3"/>
    <path d="M-40,100 C-10,100 0,100 0,100" stroke="#cbd5e1" stroke-width="3"/>
    <path d="M-40,140 C-10,140 0,140 0,140" stroke="#cbd5e1" stroke-width="3"/>
  </g>
  <!-- pass/fail marks -->
  <g>
    <circle cx="90" cy="60" r="6" fill="#16a34a"/>
    <circle cx="90" cy="100" r="6" fill="#16a34a"/>
    <circle cx="90" cy="140" r="6" fill="#ef4444"/>
  </g>
</g>

<!-- Output filter -->
<g transform="translate(480,380)">
  <rect x="0" y="0" width="360" height="200" rx="12" fill="#f8fafc" stroke="#e2e8f0"/>
  <text x="20" y="40" class="small">Output filter (stream divergence)</text>
  <!-- candidates -->
  <g>
    <circle cx="-40" cy="60" r="6" fill="#94a3b8"/>
    <circle cx="-40" cy="100" r="6" fill="#94a3b8"/>
    <circle cx="-40" cy="140" r="6" fill="#94a3b8"/>
    <path d="M-40,60 C-10,60 0,60 0,60" stroke="#cbd5e1" stroke-width="3"/>
    <path d="M-40,100 C-10,100 0,100 0,100" stroke="#cbd5e1" stroke-width="3"/>
    <path d="M-40,140 C-10,140 0,140 0,140" stroke="#cbd5e1" stroke-width="3"/>
  </g>
  <!-- decision by divergence -->
  <g>
    <circle cx="90" cy="60" r="6" fill="#16a34a"/>
    <circle cx="90" cy="100" r="6" fill="#f59e0b"/>
    <circle cx="90" cy="140" r="6" fill="#ef4444"/>
  </g>
</g>

<!-- Stream composition -->
<g transform="translate(40,640)">
  <rect x="0" y="0" width="800" height="140" rx="12" fill="#ffffff" stroke="#e2e8f0"/>
  <text x="20" y="40" class="small">HW-BMD(t) = ⊗ sources (irreducible)</text>
  <g transform="translate(20,60)">
    <rect x="0" y="0" width="700" height="12" fill="#e2e8f0"/>
    <rect x="0" y="0" width="560" height="12" fill="#0ea5e9"/>
  </g>
</g>
</g> <!-- Right: Stream divergence over stages -->
<g transform="translate(1040,140)">
<rect x="0" y="0" width="880" height="820" rx="14" fill="#ffffff" stroke="#e2e8f0" />
<text x="24" y="46" class="small">Stream divergence D_stream across processing stages</text>
<!-- Axes -->
<g transform="translate(100,120)">
  <line x1="0" y1="600" x2="680" y2="600" stroke="#cbd5e1" stroke-width="2"/>
  <line x1="0" y1="600" x2="0" y2="0" stroke="#cbd5e1" stroke-width="2"/>
  <text x="-20" y="0" class="small" text-anchor="end">0.6</text>
  <text x="-20" y="200" class="small" text-anchor="end">0.4</text>
  <text x="-20" y="400" class="small" text-anchor="end">0.2</text>
  <text x="-20" y="600" class="small" text-anchor="end">0.0</text>
  <text x="300" y="650" class="small">processing stage →</text>

  <!-- thresholds -->
  <line x1="0" y1="420" x2="680" y2="420" stroke="#f59e0b" stroke-dasharray="8 8" stroke-width="3"/>
  <line x1="0" y1="360" x2="680" y2="360" stroke="#ef4444" stroke-dasharray="8 8" stroke-width="3"/>
  <text x="690" y="424" class="small" fill="#f59e0b">warn 0.3</text>
  <text x="690" y="364" class="small" fill="#ef4444">halt 0.5</text>

  <!-- line plot (example trajectory) -->
  <polyline fill="none" stroke="#0ea5e9" stroke-width="5" points="
    0,600
    120,560
    240,520
    360,500
    480,480
    600,470
    680,460"/>
  <g fill="#0ea5e9">
    <circle cx="0" cy="600" r="6"/><circle cx="120" cy="560" r="6"/><circle cx="240" cy="520" r="6"/>
    <circle cx="360" cy="500" r="6"/><circle cx="480" cy="480" r="6"/><circle cx="600" cy="470" r="6"/><circle cx="680" cy="460" r="6"/>
  </g>

  <!-- stage labels -->
  <g class="small">
    <text x="-20" y="640" text-anchor="end">0.00</text>
    <text x="0" y="640">Acq</text>
    <text x="120" y="640">S-Ent</text>
    <text x="240" y="640">CatMap</text>
    <text x="360" y="640">Comple</text>
    <text x="480" y="640">Annot</text>
    <text x="600" y="640">Nav</text>
    <text x="680" y="640">Final</text>
  </g>
</g>
</g>
</svg>
