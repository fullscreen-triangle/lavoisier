<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 900" role="img"
    aria-label="Conceptual pipeline from mass spectrum to S-Entropy coordinates, thermodynamic droplet mapping, wave superposition image, and inverse mapping for bijectivity.">

    <style> :root{ --bg:#ffffff; --text:#0f172a; --muted:#334155; --accent:#0ea5e9;
        --accent2:#7c5cff; --good:#16a34a; --line:#cbd5e1; } .label{fill:var(--text); font: 28px/1.3
        ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;} .title{font-size:40px;}
        .box{fill:#f8fafc; stroke:#e2e8f0; stroke-width:2;} .arrow{stroke:var(--accent);
        stroke-width:4; fill:none; marker-end:url(#arr);} .arrow2{stroke:#6366f1; stroke-width:4;
        fill:none; marker-end:url(#arr2);} .mono{fill:var(--muted); font: 24px/1.3 ui-monospace,
        SFMono-Regular, Menlo, Consolas, monospace;} </style>
    <defs>
        <marker id="arr" markerWidth="14" markerHeight="14" refX="12" refY="7" orient="auto">
            <path d="M0,0 L14,7 L0,14 Z" fill="var(--accent)" />
        </marker>
        <marker id="arr2" markerWidth="14" markerHeight="14" refX="12" refY="7" orient="auto">
            <path d="M0,0 L14,7 L0,14 Z" fill="#6366f1" />
        </marker>
    </defs>
    <text x="70" y="80" class="label title">Bijective Computer Vision Transformation for Mass
        Spectrometry</text>
    <text x="70" y="120" class="label">Thermodynamic droplet encoding and wave image generation with
        invertible mapping</text>

    <!-- Step 1: Mass Spectrum -->
    <g transform="translate(60,200)">
        <rect class="box" x="0" y="0" width="480" height="220" rx="14" />
        <text class="label" x="24" y="48">Mass Spectrum (m/z, intensity)</text> <!-- simple spectrum
        sketch -->
        <g transform="translate(40,160)">
            <line x1="0" y1="0" x2="400" y2="0" stroke="#94a3b8" stroke-width="3" />
            <line x1="0" y1="0" x2="0" y2="-110" stroke="#94a3b8" stroke-width="3" />
            <g stroke="#0ea5e9" stroke-width="6">
                <line x1="40" y1="0" x2="40" y2="-60" />
                <line x1="110" y1="0" x2="110" y2="-100" />
                <line x1="180" y1="0" x2="180" y2="-30" />
                <line x1="250" y1="0" x2="250" y2="-80" />
                <line x1="320" y1="0" x2="320" y2="-50" />
            </g>
        </g>
        <text class="mono" x="24" y="200">M = {(m/z_i, I_i)}</text>
    </g> <!-- Arrow to S-Entropy -->
    <path class="arrow" d="M560,310 C640,310 640,310 720,310" /> <!-- Step 2: S-Entropy coordinates -->
    <g transform="translate(740,200)">
        <rect class="box" x="0" y="0" width="480" height="220" rx="14" />
        <text class="label" x="24" y="48">S-Entropy Space (platform-independent)</text>
        <g transform="translate(260,130)"> <!-- cube outlines -->
            <rect x="-120" y="-80" width="240" height="160" fill="none" stroke="#94a3b8"
                stroke-width="2" />
            <line x1="-120" y1="-80" x2="-80" y2="-110" stroke="#94a3b8" stroke-width="2" />
            <line x1="120" y1="-80" x2="160" y2="-110" stroke="#94a3b8" stroke-width="2" />
            <line x1="-80" y1="-110" x2="160" y2="-110" stroke="#94a3b8" stroke-width="2" />
            <line x1="-80" y1="50" x2="160" y2="50" stroke="#94a3b8" stroke-width="2" />
            <line x1="-80" y1="-110" x2="-80" y2="50" stroke="#94a3b8" stroke-width="2" />
            <line x1="160" y1="-110" x2="160" y2="50" stroke="#94a3b8" stroke-width="2" /> <!--
            points -->
            <circle cx="-30" cy="-20" r="6" fill="#0ea5e9" />
            <circle cx="40" cy="-40" r="6" fill="#0ea5e9" />
            <circle cx="80" cy="10" r="6" fill="#0ea5e9" />
            <circle cx="-10" cy="20" r="6" fill="#0ea5e9" />
        </g>
        <text class="mono" x="24" y="200">S(i) = (S_knowledge, S_time, S_entropy) ∈ [0,1]^3</text>
    </g> <!--
    Arrow to droplet mapping -->
    <path class="arrow2" d="M1240,310 C1320,310 1320,310 1400,310" /> <!-- Step 3: Ion-to-droplet
    thermodynamic mapping -->
    <g transform="translate(60,460)">
        <rect class="box" x="0" y="0" width="520" height="360" rx="14" />
        <text class="label" x="24" y="48">Ion → Droplet Parameters</text>
        <g transform="translate(30,90)" class="mono">
            <text x="0" y="0">v = v_min + S_k · (v_max − v_min)</text>
            <text x="0" y="40">r = r_min + S_e · (r_max − r_min)</text>
            <text x="0" y="80">σ = σ_max − S_t · (σ_max − σ_min)</text>
            <text x="0" y="120">T = T_min + log(1+I)/log(1+I_max) · (T_max − T_min)</text>
            <text x="0" y="160">φ = exp(−||S − s₀||²), θ = 45° · S_k · S_e</text>
        </g> <!--
        droplet icon -->
        <g transform="translate(380,220)">
            <circle cx="0" cy="0" r="60" fill="#e0f2fe" stroke="#93c5fd" stroke-width="3" />
            <path d="M-50,-10 A50,50 0 0 1 50,-10" fill="none" stroke="#7c5cff" stroke-width="3" />
            <text x="-34" y="90" class="mono">D = (v,r,σ,T,φ,θ)</text>
        </g>
    </g> <!-- Step
    4: Wave superposition image -->
    <g transform="translate(610,460)">
        <rect class="box" x="0" y="0" width="520" height="360" rx="14" />
        <text class="label" x="24" y="48">Thermodynamic Image (Superposition)</text> <!-- canvas -->
        <rect x="40" y="90" width="440" height="240" fill="#f1f5f9" stroke="#cbd5e1" /> <!-- waves
        (conceptual) -->
        <g opacity="0.9">
            <path d="M60,210 q60,-40 120,0 t120,0 t120,0" stroke="#0ea5e9" stroke-width="3"
                fill="none" />
            <path d="M60,160 q80,60 160,0 t160,0" stroke="#6366f1" stroke-width="3" fill="none" />
            <path d="M60,240 q90,-20 180,20 t180,-20" stroke="#22c55e" stroke-width="3" fill="none" />
        </g>
        <text x="60" y="350" class="mono">I(x,y) = Σ_i Ω(x,y; i)</text>
    </g> <!-- Step 5: Inverse
    mapping (bijectivity) -->
    <g transform="translate(1160,460)">
        <rect class="box" x="0" y="0" width="580" height="360" rx="14" />
        <text class="label" x="24" y="48">Inverse Mapping (Bijective)</text>
        <g class="mono" transform="translate(24,90)">
            <text x="0" y="0">Peak detect → (x₀,y₀)</text>
            <text x="0" y="40">Fit local wave → (A, λ_w, λ_d, θ, c)</text>
            <text x="0" y="80">Inverse droplet: D → S, I</text>
            <text x="0" y="120">Inverse S-Entropy: S → (m/z, I, neighborhood)</text>
            <text x="0" y="160">Reconstruct spectrum M</text>
        </g>
        <g transform="translate(440,250)">
            <circle cx="0" cy="0" r="14" fill="#16a34a" />
            <text x="24" y="8" class="label" fill="#16a34a">Bijective</text>
        </g>
    </g>
</svg>
